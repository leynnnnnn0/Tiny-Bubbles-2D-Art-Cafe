import{a as Nl,c as Ll,r as xe,u as Dl,j as l,H as Bl}from"./app-NbTgh-ZI.js";import{C as jl,a as yl,b as _l,c as vl,d as Cl}from"./card-BFptHl29.js";import{L as m}from"./label-C5f8oUb4.js";import{I as ge}from"./input-C5wJKwD7.js";import{B as f}from"./button-BzJcKInx.js";import{T as Ql}from"./textarea-BfKibzKo.js";import{M as Il}from"./module-heading-CrqDEVQz.js";import{A as Pl}from"./app-layout-BdioireY.js";import{X as kl}from"./index-QrMlaR7T.js";import{R as Fl}from"./refresh-cw-_LIMy8Nc.js";/* empty css            */import"./mainLogo-bvORueui.js";import"./index-hP81tKwY.js";import"./index-w3KtAIWx.js";import"./dropdown-menu-BsuGG8g5.js";import"./index-btOhq9FW.js";import"./index-D6b3eXot.js";import"./qr-code-CDT3BVDn.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Hl=Nl("Download",Ml);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ul=Nl("Save",Tl);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Sl=Nl("Upload",zl);function it(Ye){const e=Ll.c(203),{qrCode:d,errors:a}=Ye,[n,Je]=xe.useState(d?.logo?"/"+d.logo:null),[r,Xe]=xe.useState(d?.background_image?"/"+d.background_image:null),[ue,wl]=xe.useState(!1),h=xe.useRef(null),x=xe.useRef(null),Ke=d?.heading||"Taylora",We=d?.subheading||"Join our loyalty program by scanning the QR code",Ze=d?.background_color||"#ffffff",el=d?.text_color||"#000000";let pe;e[0]!==Ke||e[1]!==We||e[2]!==Ze||e[3]!==el?(pe={heading:Ke,subheading:We,backgroundColor:Ze,textColor:el,backgroundImage:null,logo:null},e[0]=Ke,e[1]=We,e[2]=Ze,e[3]=el,e[4]=pe):pe=e[4];const{post:ll,data:t,setData:o,reset:tl,processing:s}=Dl(pe);let be;e[5]!==o?(be=i=>{const c=i.target.files?.[0];if(c){if(c.size>5242880){alert("Logo file size must be less than 5MB");return}const he=new FileReader;he.onload=bl=>{Je(bl.target?.result)},he.readAsDataURL(c),o("logo",c)}},e[5]=o,e[6]=be):be=e[6];const sl=be;let je;e[7]!==o?(je=i=>{const c=i.target.files?.[0];if(c){if(c.size>10485760){alert("Background image file size must be less than 10MB");return}const he=new FileReader;he.onload=bl=>{Xe(bl.target?.result)},he.readAsDataURL(c),o("backgroundImage",c)}},e[7]=o,e[8]=je):je=e[8];const ol=je;let ye;e[9]!==ll?(ye=i=>{i.preventDefault(),ll("/business/qr-studio/update",{onSuccess:Al,onError:ql})},e[9]=ll,e[10]=ye):ye=e[10];const al=ye;let ve;e[11]===Symbol.for("react.memo_cache_sentinel")?(ve=()=>{wl(!0),window.location.href="/business/qr-studio/download",setTimeout(()=>wl(!1),2e3)},e[11]=ve):ve=e[11];const Rl=ve;let Ce;e[12]!==o?(Ce=()=>{Je(null),o("logo",null),h.current&&(h.current.value="")},e[12]=o,e[13]=Ce):Ce=e[13];const rl=Ce;let Ne;e[14]!==o?(Ne=()=>{Xe(null),o("backgroundImage",null),x.current&&(x.current.value="")},e[14]=o,e[15]=Ne):Ne=e[15];const il=Ne;let we;e[16]!==tl?(we=()=>{tl(),Je(null),Xe(null),h.current&&(h.current.value=""),x.current&&(x.current.value="")},e[16]=tl,e[17]=we):we=e[17];const nl=we;let g;e[18]!==r?(g=r&&{backgroundImage:`url(${r})`,backgroundSize:"cover",backgroundPosition:"center"},e[18]=r,e[19]=g):g=e[19];let _e;e[20]!==t.backgroundColor||e[21]!==t.textColor||e[22]!==g?(_e={backgroundColor:t.backgroundColor,color:t.textColor,...g},e[20]=t.backgroundColor,e[21]=t.textColor,e[22]=g,e[23]=_e):_e=e[23];const cl=_e;let ke,Se;e[24]===Symbol.for("react.memo_cache_sentinel")?(ke=l.jsx(Bl,{title:"QR Studio"}),Se=l.jsx(Il,{title:"QR Studio",description:"Manage your business QR code settings."}),e[24]=ke,e[25]=Se):(ke=e[24],Se=e[25]);let Re;e[26]===Symbol.for("react.memo_cache_sentinel")?(Re=l.jsxs(jl,{children:[l.jsx(yl,{children:"Preview"}),l.jsx(_l,{children:"This is how your QR code menu will look when printed"})]}),e[26]=Re):Re=e[26];let u;e[27]!==r?(u=r&&l.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm"}),e[27]=r,e[28]=u):u=e[28];let p;e[29]!==t.textColor?(p={borderColor:t.textColor},e[29]=t.textColor,e[30]=p):p=e[30];let b;e[31]!==t.textColor?(b={color:t.textColor},e[31]=t.textColor,e[32]=b):b=e[32];let j;e[33]!==t.heading||e[34]!==b?(j=l.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-6xl font-serif italic mb-4 sm:mb-6 lg:mb-8 text-center",style:b,children:t.heading}),e[33]=t.heading,e[34]=b,e[35]=j):j=e[35];let y;e[36]!==t.textColor?(y={color:t.textColor},e[36]=t.textColor,e[37]=y):y=e[37];let v;e[38]!==t.subheading||e[39]!==y?(v=l.jsx("p",{className:"text-center text-xs sm:text-sm lg:text-lg mb-4 sm:mb-6 lg:mb-8 whitespace-pre-line px-2",style:y,children:t.subheading}),e[38]=t.subheading,e[39]=y,e[40]=v):v=e[40];let Le;e[41]===Symbol.for("react.memo_cache_sentinel")?(Le=l.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 lg:w-48 lg:h-48 bg-white p-2 mb-4 sm:mb-6 lg:mb-8 shadow-lg",children:l.jsx("div",{className:"w-full h-full bg-gray-300 flex items-center justify-center text-xs text-gray-600",children:"QR Code will show here"})}),e[41]=Le):Le=e[41];let C;e[42]!==t.textColor?(C={borderColor:t.textColor},e[42]=t.textColor,e[43]=C):C=e[43];let N;e[44]!==t.textColor||e[45]!==n?(N=n?l.jsx("img",{src:n,alt:"Logo",className:"max-w-full max-h-full object-contain"}):l.jsxs("div",{className:"text-center font-bold text-xs sm:text-sm",style:{color:t.textColor},children:[l.jsx("div",{children:"YOUR"}),l.jsx("div",{children:"LOGO"})]}),e[44]=t.textColor,e[45]=n,e[46]=N):N=e[46];let w;e[47]!==C||e[48]!==N?(w=l.jsx("div",{className:"p-2 sm:p-3 lg:p-4 w-20 h-20 sm:w-24 sm:h-24 lg:w-32 lg:h-32 flex items-center justify-center",style:C,children:N}),e[47]=C,e[48]=N,e[49]=w):w=e[49];let _;e[50]!==p||e[51]!==j||e[52]!==v||e[53]!==w?(_=l.jsxs("div",{className:"relative h-full flex flex-col items-center justify-center p-4 sm:p-6 lg:p-8 border-4 sm:border-8",style:p,children:[j,v,Le,w]}),e[50]=p,e[51]=j,e[52]=v,e[53]=w,e[54]=_):_=e[54];let k;e[55]!==cl||e[56]!==u||e[57]!==_?(k=l.jsxs("div",{className:"aspect-[8.5/11] border-2 shadow-lg mx-auto w-full max-w-sm lg:max-w-md relative overflow-hidden",style:cl,children:[u,_]}),e[55]=cl,e[56]=u,e[57]=_,e[58]=k):k=e[58];let De;e[59]===Symbol.for("react.memo_cache_sentinel")?(De=l.jsx(Hl,{className:"w-4 h-4 mr-2"}),e[59]=De):De=e[59];const dl=ue?"Generating PDF...":"Download QR Code PDF";let S;e[60]!==ue||e[61]!==dl?(S=l.jsxs(f,{onClick:Rl,className:"w-full",variant:"outline",disabled:ue,children:[De,dl]}),e[60]=ue,e[61]=dl,e[62]=S):S=e[62];let R;e[63]!==k||e[64]!==S?(R=l.jsx("div",{className:"order-first lg:order-last",children:l.jsxs(vl,{className:"lg:sticky lg:top-8",children:[Re,l.jsxs(Cl,{className:"space-y-4",children:[k,S]})]})}),e[63]=k,e[64]=S,e[65]=R):R=e[65];let Be;e[66]===Symbol.for("react.memo_cache_sentinel")?(Be=l.jsxs(jl,{children:[l.jsx(yl,{children:"Customize Your QR Code"}),l.jsx(_l,{children:"Personalize your QR code menu to match your brand"})]}),e[66]=Be):Be=e[66];let Qe;e[67]===Symbol.for("react.memo_cache_sentinel")?(Qe=l.jsx(m,{htmlFor:"heading",children:"Heading"}),e[67]=Qe):Qe=e[67];let L;e[68]!==o?(L=i=>o("heading",i.target.value),e[68]=o,e[69]=L):L=e[69];const ml=a?.heading?"border-red-500":"";let D;e[70]!==t.heading||e[71]!==s||e[72]!==L||e[73]!==ml?(D=l.jsx(ge,{id:"heading",value:t.heading,onChange:L,placeholder:"Menu",disabled:s,className:ml}),e[70]=t.heading,e[71]=s,e[72]=L,e[73]=ml,e[74]=D):D=e[74];let B;e[75]!==a?(B=a?.heading&&l.jsx("p",{className:"text-sm text-red-500",children:a.heading}),e[75]=a,e[76]=B):B=e[76];let Q;e[77]!==D||e[78]!==B?(Q=l.jsxs("div",{className:"space-y-2",children:[Qe,D,B]}),e[77]=D,e[78]=B,e[79]=Q):Q=e[79];let Ie;e[80]===Symbol.for("react.memo_cache_sentinel")?(Ie=l.jsx(m,{htmlFor:"subheading",children:"Subheading"}),e[80]=Ie):Ie=e[80];let I;e[81]!==o?(I=i=>o("subheading",i.target.value),e[81]=o,e[82]=I):I=e[82];const fl=a?.subheading?"border-red-500":"";let P;e[83]!==t.subheading||e[84]!==s||e[85]!==I||e[86]!==fl?(P=l.jsx(Ql,{id:"subheading",value:t.subheading,onChange:I,placeholder:"For a contactless menu, scan the QR code",rows:3,disabled:s,className:fl}),e[83]=t.subheading,e[84]=s,e[85]=I,e[86]=fl,e[87]=P):P=e[87];let F;e[88]!==a?(F=a?.subheading&&l.jsx("p",{className:"text-sm text-red-500",children:a.subheading}),e[88]=a,e[89]=F):F=e[89];let M;e[90]!==P||e[91]!==F?(M=l.jsxs("div",{className:"space-y-2 mt-4",children:[Ie,P,F]}),e[90]=P,e[91]=F,e[92]=M):M=e[92];let Pe;e[93]===Symbol.for("react.memo_cache_sentinel")?(Pe=l.jsx(m,{children:"Background"}),e[93]=Pe):Pe=e[93];let Fe;e[94]===Symbol.for("react.memo_cache_sentinel")?(Fe=l.jsx(m,{htmlFor:"bg-color",className:"text-sm text-gray-600",children:"Solid Color"}),e[94]=Fe):Fe=e[94];let H;e[95]!==o?(H=i=>o("backgroundColor",i.target.value),e[95]=o,e[96]=H):H=e[96];const hl=!!r||s;let T;e[97]!==t.backgroundColor||e[98]!==H||e[99]!==hl?(T=l.jsx(ge,{id:"bg-color",type:"color",value:t.backgroundColor,onChange:H,className:"w-20 h-10",disabled:hl}),e[97]=t.backgroundColor,e[98]=H,e[99]=hl,e[100]=T):T=e[100];let U;e[101]!==o?(U=i=>o("backgroundColor",i.target.value),e[101]=o,e[102]=U):U=e[102];const xl=!!r||s;let z;e[103]!==t.backgroundColor||e[104]!==U||e[105]!==xl?(z=l.jsx(ge,{value:t.backgroundColor,onChange:U,placeholder:"#ffffff",className:"flex-1",disabled:xl}),e[103]=t.backgroundColor,e[104]=U,e[105]=xl,e[106]=z):z=e[106];let q;e[107]!==T||e[108]!==z?(q=l.jsxs("div",{className:"space-y-2",children:[Fe,l.jsxs("div",{className:"flex gap-2",children:[T,z]})]}),e[107]=T,e[108]=z,e[109]=q):q=e[109];let Me;e[110]===Symbol.for("react.memo_cache_sentinel")?(Me=l.jsx(m,{className:"text-sm text-gray-600",children:"Or Background Image"}),e[110]=Me):Me=e[110];let He;e[111]===Symbol.for("react.memo_cache_sentinel")?(He=()=>x.current?.click(),e[111]=He):He=e[111];let Te;e[112]===Symbol.for("react.memo_cache_sentinel")?(Te=l.jsx(Sl,{className:"w-4 h-4 mr-2"}),e[112]=Te):Te=e[112];const gl=r?"Change Background":"Upload Background";let A;e[113]!==s||e[114]!==gl?(A=l.jsxs(f,{type:"button",variant:"outline",onClick:He,className:"flex-1",disabled:s,children:[Te,gl]}),e[113]=s,e[114]=gl,e[115]=A):A=e[115];let E;e[116]!==r||e[117]!==s||e[118]!==il?(E=r&&l.jsx(f,{type:"button",variant:"outline",onClick:il,disabled:s,children:l.jsx(kl,{className:"w-4 h-4"})}),e[116]=r,e[117]=s,e[118]=il,e[119]=E):E=e[119];let O;e[120]!==A||e[121]!==E?(O=l.jsxs("div",{className:"flex gap-2",children:[A,E]}),e[120]=A,e[121]=E,e[122]=O):O=e[122];let $;e[123]!==ol?($=l.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:ol,className:"hidden"}),e[123]=ol,e[124]=$):$=e[124];let G;e[125]!==a?(G=a?.background_image&&l.jsx("p",{className:"text-sm text-red-500",children:a.background_image}),e[125]=a,e[126]=G):G=e[126];let V;e[127]!==r?(V=r&&l.jsx("div",{className:"mt-2 p-2 border rounded-lg bg-gray-50",children:l.jsx("img",{src:r,alt:"Background preview",className:"w-full h-32 object-cover rounded"})}),e[127]=r,e[128]=V):V=e[128];let Y;e[129]!==O||e[130]!==$||e[131]!==G||e[132]!==V?(Y=l.jsxs("div",{className:"space-y-2",children:[Me,O,$,G,V]}),e[129]=O,e[130]=$,e[131]=G,e[132]=V,e[133]=Y):Y=e[133];let J;e[134]!==q||e[135]!==Y?(J=l.jsxs("div",{className:"space-y-4 mt-4",children:[Pe,q,Y]}),e[134]=q,e[135]=Y,e[136]=J):J=e[136];let Ue;e[137]===Symbol.for("react.memo_cache_sentinel")?(Ue=l.jsx(m,{htmlFor:"text-color",children:"Text Color"}),e[137]=Ue):Ue=e[137];let X;e[138]!==o?(X=i=>o("textColor",i.target.value),e[138]=o,e[139]=X):X=e[139];let K;e[140]!==t.textColor||e[141]!==s||e[142]!==X?(K=l.jsx(ge,{id:"text-color",type:"color",value:t.textColor,onChange:X,className:"w-20 h-10",disabled:s}),e[140]=t.textColor,e[141]=s,e[142]=X,e[143]=K):K=e[143];let W;e[144]!==o?(W=i=>o("textColor",i.target.value),e[144]=o,e[145]=W):W=e[145];let Z;e[146]!==t.textColor||e[147]!==s||e[148]!==W?(Z=l.jsx(ge,{value:t.textColor,onChange:W,placeholder:"#000000",className:"flex-1",disabled:s}),e[146]=t.textColor,e[147]=s,e[148]=W,e[149]=Z):Z=e[149];let ee;e[150]!==K||e[151]!==Z?(ee=l.jsxs("div",{className:"space-y-2 mt-4",children:[Ue,l.jsxs("div",{className:"flex gap-2",children:[K,Z]})]}),e[150]=K,e[151]=Z,e[152]=ee):ee=e[152];let ze;e[153]===Symbol.for("react.memo_cache_sentinel")?(ze=l.jsx(m,{children:"Logo"}),e[153]=ze):ze=e[153];let qe;e[154]===Symbol.for("react.memo_cache_sentinel")?(qe=()=>h.current?.click(),e[154]=qe):qe=e[154];let Ae;e[155]===Symbol.for("react.memo_cache_sentinel")?(Ae=l.jsx(Sl,{className:"w-4 h-4 mr-2"}),e[155]=Ae):Ae=e[155];const ul=n?"Change Logo":"Upload Logo";let le;e[156]!==s||e[157]!==ul?(le=l.jsxs(f,{type:"button",variant:"outline",onClick:qe,className:"flex-1",disabled:s,children:[Ae,ul]}),e[156]=s,e[157]=ul,e[158]=le):le=e[158];let te;e[159]!==n||e[160]!==s||e[161]!==rl?(te=n&&l.jsx(f,{type:"button",variant:"outline",onClick:rl,disabled:s,children:l.jsx(kl,{className:"w-4 h-4"})}),e[159]=n,e[160]=s,e[161]=rl,e[162]=te):te=e[162];let se;e[163]!==le||e[164]!==te?(se=l.jsxs("div",{className:"flex gap-2",children:[le,te]}),e[163]=le,e[164]=te,e[165]=se):se=e[165];let oe;e[166]!==sl?(oe=l.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:sl,className:"hidden"}),e[166]=sl,e[167]=oe):oe=e[167];let ae;e[168]!==a?(ae=a?.logo&&l.jsx("p",{className:"text-sm text-red-500",children:a.logo}),e[168]=a,e[169]=ae):ae=e[169];let re;e[170]!==n?(re=n&&l.jsx("div",{className:"mt-2 p-4 border rounded-lg bg-gray-50",children:l.jsx("img",{src:n,alt:"Logo preview",className:"w-24 h-24 object-contain mx-auto"})}),e[170]=n,e[171]=re):re=e[171];let ie;e[172]!==se||e[173]!==oe||e[174]!==ae||e[175]!==re?(ie=l.jsxs("div",{className:"space-y-2 mt-4",children:[ze,se,oe,ae,re]}),e[172]=se,e[173]=oe,e[174]=ae,e[175]=re,e[176]=ie):ie=e[176];let Ee;e[177]===Symbol.for("react.memo_cache_sentinel")?(Ee=l.jsx(Ul,{className:"w-4 h-4 mr-2"}),e[177]=Ee):Ee=e[177];const pl=s?"Saving...":"Save Settings";let ne;e[178]!==s||e[179]!==pl?(ne=l.jsxs(f,{type:"submit",className:"flex-1",disabled:s,children:[Ee,pl]}),e[178]=s,e[179]=pl,e[180]=ne):ne=e[180];let Oe;e[181]===Symbol.for("react.memo_cache_sentinel")?(Oe=l.jsx(Fl,{className:"w-4 h-4 mr-2"}),e[181]=Oe):Oe=e[181];let ce;e[182]!==s||e[183]!==nl?(ce=l.jsxs(f,{type:"button",variant:"outline",onClick:nl,disabled:s,className:"sm:w-auto",children:[Oe,"Reset"]}),e[182]=s,e[183]=nl,e[184]=ce):ce=e[184];let de;e[185]!==ne||e[186]!==ce?(de=l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-4",children:[ne,ce]}),e[185]=ne,e[186]=ce,e[187]=de):de=e[187];let me;e[188]!==al||e[189]!==Q||e[190]!==M||e[191]!==J||e[192]!==ee||e[193]!==ie||e[194]!==de?(me=l.jsxs(vl,{children:[Be,l.jsx(Cl,{className:"space-y-6",children:l.jsxs("form",{onSubmit:al,children:[Q,M,J,ee,ie,de]})})]}),e[188]=al,e[189]=Q,e[190]=M,e[191]=J,e[192]=ee,e[193]=ie,e[194]=de,e[195]=me):me=e[195];let $e;e[196]===Symbol.for("react.memo_cache_sentinel")?($e=l.jsx(jl,{children:l.jsx(yl,{children:"Printing Tips"})}),e[196]=$e):$e=e[196];let Ge;e[197]===Symbol.for("react.memo_cache_sentinel")?(Ge=l.jsxs(vl,{children:[$e,l.jsxs(Cl,{className:"space-y-2 text-sm text-gray-600",children:[l.jsx("p",{children:'• High-resolution PDF will be generated (8.5" x 11")'}),l.jsx("p",{children:"• QR code will link to your business loyalty page"}),l.jsx("p",{children:'• Print on standard 8.5" x 11" paper or cardstock'}),l.jsx("p",{children:"• Test the QR code after printing to ensure it scans properly"}),l.jsx("p",{children:"• Consider laminating for durability in high-traffic areas"})]})]}),e[197]=Ge):Ge=e[197];let fe;e[198]!==me?(fe=l.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[me,Ge]}),e[198]=me,e[199]=fe):fe=e[199];let Ve;return e[200]!==R||e[201]!==fe?(Ve=l.jsxs(Pl,{children:[ke,Se,l.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-8",children:[R,fe]})})]}),e[200]=R,e[201]=fe,e[202]=Ve):Ve=e[202],Ve}function ql(Ye){console.error("Save errors:",Ye)}function Al(){alert("QR Code settings saved successfully!")}export{it as default};
