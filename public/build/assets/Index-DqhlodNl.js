import{c as Me,r as m,j as s,a as Ae,u as Le,b as ze,t as oe,H as Oe}from"./app-CQ5i8OFm.js";import{M as Ue}from"./module-heading-4-_UoXPI.js";import{B as ie}from"./button-i3E2U14W.js";import{A as $e}from"./app-layout-BQPlZ8jj.js";import{D as qe,a as We,b as Xe,c as Ge}from"./dialog-9rsN95xO.js";import{I as ne}from"./input-G11Vl4G0.js";import{L as w}from"./label-ixJ5b7YG.js";import{T as Je}from"./textarea-B9PreIxT.js";import{c as Ke,u as Qe,a as Ve}from"./index-BWNUYbmD.js";import{u as Be,c as Ee}from"./mainLogo-4uzQQM3C.js";import{u as Ye}from"./index-DgBR_x5_.js";import{u as Ze}from"./index-DhOS8l84.js";import{P as Pe}from"./index-B7k7q6bk.js";import{A as et,a as tt,b as st,c as rt,d as at,e as lt,f as ot,g as it}from"./alert-dialog-IIzPxH8g.js";import{T as nt}from"./trash-2-W3ysfPVO.js";import{P as ct}from"./plus-fj6BIwxI.js";/* empty css            */import"./index-Dgh0kaZP.js";import"./x-8CP5N4gR.js";import"./dropdown-menu-C43OcOQ4.js";import"./index-D6b3eXot.js";import"./ticket-BX99DFkC.js";import"./qr-code-ClL27qB-.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],mt=Me("Pencil",dt);var we="Switch",[pt,Wt]=Ke(we),[ht,ut]=pt(we),Te=m.forwardRef((n,e)=>{const{__scopeSwitch:o,name:i,checked:l,defaultChecked:a,required:c,disabled:d,value:h="on",onCheckedChange:f,form:p,...x}=n,[u,t]=m.useState(null),g=Be(e,v=>t(v)),b=m.useRef(!1),y=u?p||!!u.closest("form"):!0,[j,_]=Qe({prop:l,defaultProp:a??!1,onChange:f,caller:we});return s.jsxs(ht,{scope:o,checked:j,disabled:d,children:[s.jsx(Pe.button,{type:"button",role:"switch","aria-checked":j,"aria-required":c,"data-state":He(j),"data-disabled":d?"":void 0,disabled:d,value:h,...x,ref:g,onClick:Ve(n.onClick,v=>{_(k=>!k),y&&(b.current=v.isPropagationStopped(),b.current||v.stopPropagation())})}),y&&s.jsx(Ie,{control:u,bubbles:!b.current,name:i,value:h,checked:j,required:c,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});Te.displayName=we;var Re="SwitchThumb",Fe=m.forwardRef((n,e)=>{const{__scopeSwitch:o,...i}=n,l=ut(Re,o);return s.jsx(Pe.span,{"data-state":He(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:e})});Fe.displayName=Re;var ft="SwitchBubbleInput",Ie=m.forwardRef(({__scopeSwitch:n,control:e,checked:o,bubbles:i=!0,...l},a)=>{const c=m.useRef(null),d=Be(c,a),h=Ye(o),f=Ze(e);return m.useEffect(()=>{const p=c.current;if(!p)return;const x=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(x,"checked").set;if(h!==o&&t){const g=new Event("click",{bubbles:i});t.call(p,o),p.dispatchEvent(g)}},[h,o,i]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o,...l,tabIndex:-1,ref:d,style:{...l.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ie.displayName=ft;function He(n){return n?"checked":"unchecked"}var xt=Te,gt=Fe;function jt(n){const e=Ae.c(9);let o,i;e[0]!==n?({className:o,...i}=n,e[0]=n,e[1]=o,e[2]=i):(o=e[1],i=e[2]);let l;e[3]!==o?(l=Ee("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",o),e[3]=o,e[4]=l):l=e[4];let a;e[5]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(gt,{"data-slot":"switch-thumb",className:Ee("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")}),e[5]=a):a=e[5];let c;return e[6]!==i||e[7]!==l?(c=s.jsx(xt,{"data-slot":"switch",className:l,...i,children:a}),e[6]=i,e[7]=l,e[8]=c):c=e[8],c}function Xt(n){const e=Ae.c(128),{branches:o}=n,[i,l]=m.useState(!1),[a,c]=m.useState(null),[d,h]=m.useState(null),[f]=m.useState("");let p,x;e[0]!==f?(p=()=>{const r=setTimeout(()=>{ze.get("/business/branches",{search:f},{preserveState:!0,preserveScroll:!0,replace:!0})},300);return()=>clearTimeout(r)},x=[f],e[0]=f,e[1]=p,e[2]=x):(p=e[1],x=e[2]),m.useEffect(p,x);let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u={store_name:"",username:"",password:"",confirm_password:"",address:"",remarks:"",is_active:!0},e[3]=u):u=e[3];const t=Le(u);let g;e[4]!==t?(g=()=>{c(null),t.reset(),t.clearErrors(),l(!0)},e[4]=t,e[5]=g):g=e[5];const b=g;let y;e[6]!==t?(y=r=>{c(r),t.setData({store_name:r.store_name,username:r.username,password:"",confirm_password:"",address:r.address||"",remarks:r.remarks||"",is_active:r.is_active}),t.clearErrors(),l(!0)},e[6]=t,e[7]=y):y=e[7];const j=y;let _;e[8]!==a||e[9]!==t?(_=()=>{a?t.put(`/branches/${a.id}`,{onSuccess:()=>{oe.success("Branch updated successfully"),l(!1),t.reset()},onError:yt}):t.post("/branches",{onSuccess:()=>{oe.success("Branch created successfully"),l(!1),t.reset()},onError:bt})},e[8]=a,e[9]=t,e[10]=_):_=e[10];const v=_;let k;e[11]!==d||e[12]!==t?(k=()=>{d&&t.delete(`/branches/${d.id}`,{onSuccess:()=>{oe.success("Branch deleted successfully"),h(null)},onError:vt})},e[11]=d,e[12]=t,e[13]=k):k=e[13];const _e=k;let ce;e[14]===Symbol.for("react.memo_cache_sentinel")?(ce=s.jsx(Oe,{title:"Branches"}),e[14]=ce):ce=e[14];let de;e[15]===Symbol.for("react.memo_cache_sentinel")?(de=s.jsx(ct,{}),e[15]=de):de=e[15];let S;e[16]!==b?(S=s.jsx(Ue,{title:"Branches",description:"Manage the branches of your business",children:s.jsxs(ie,{onClick:b,children:[de,"Create New"]})}),e[16]=b,e[17]=S):S=e[17];let me;e[18]===Symbol.for("react.memo_cache_sentinel")?(me=s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store Name"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:"Address"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell",children:"Remarks"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e[18]=me):me=e[18];let N;e[19]!==o||e[20]!==j?(N=o?.map(r=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:r.store_name}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:r.username}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 hidden sm:table-cell",children:r.address||"-"}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 hidden md:table-cell",children:r.remarks||"-"}),s.jsx("td",{className:"px-4 py-3 text-sm",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${r.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r.is_active?"Active":"Inactive"})}),s.jsx("td",{className:"px-4 py-3 text-sm text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>j(r),children:s.jsx(mt,{className:"w-4 h-4"})}),s.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>h(r),children:s.jsx(nt,{className:"w-4 h-4 text-red-600"})})]})})]},r.id)),e[19]=o,e[20]=j,e[21]=N):N=e[21];let C;e[22]!==N?(C=s.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[me,s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N})]})})}),e[22]=N,e[23]=C):C=e[23];const ke=a?"Edit Branch":"Create New Branch";let D;e[24]!==ke?(D=s.jsx(qe,{children:s.jsx(We,{children:ke})}),e[24]=ke,e[25]=D):D=e[25];let pe;e[26]===Symbol.for("react.memo_cache_sentinel")?(pe=s.jsx(w,{htmlFor:"store_name",children:"Store Name"}),e[26]=pe):pe=e[26];let E;e[27]!==t?(E=r=>t.setData("store_name",r.target.value),e[27]=t,e[28]=E):E=e[28];let A;e[29]!==t.data.store_name||e[30]!==E?(A=s.jsx(ne,{id:"store_name",type:"text",value:t.data.store_name,onChange:E,placeholder:"Enter store name"}),e[29]=t.data.store_name,e[30]=E,e[31]=A):A=e[31];let B;e[32]!==t.errors.store_name?(B=t.errors.store_name&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.errors.store_name}),e[32]=t.errors.store_name,e[33]=B):B=e[33];let P;e[34]!==A||e[35]!==B?(P=s.jsxs("div",{children:[pe,A,B]}),e[34]=A,e[35]=B,e[36]=P):P=e[36];let he;e[37]===Symbol.for("react.memo_cache_sentinel")?(he=s.jsx(w,{htmlFor:"username",children:"Username"}),e[37]=he):he=e[37];let T;e[38]!==t?(T=r=>t.setData("username",r.target.value),e[38]=t,e[39]=T):T=e[39];let R;e[40]!==t.data.username||e[41]!==T?(R=s.jsx(ne,{id:"username",type:"text",value:t.data.username,onChange:T,placeholder:"Enter username"}),e[40]=t.data.username,e[41]=T,e[42]=R):R=e[42];let F;e[43]!==t.errors.username?(F=t.errors.username&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.errors.username}),e[43]=t.errors.username,e[44]=F):F=e[44];let I;e[45]!==R||e[46]!==F?(I=s.jsxs("div",{children:[he,R,F]}),e[45]=R,e[46]=F,e[47]=I):I=e[47];let ue;e[48]===Symbol.for("react.memo_cache_sentinel")?(ue=s.jsx(w,{htmlFor:"password",children:"Password"}),e[48]=ue):ue=e[48];let H;e[49]!==t?(H=r=>t.setData("password",r.target.value),e[49]=t,e[50]=H):H=e[50];const Se=a?"Leave blank to keep current":"Enter password";let M;e[51]!==t.data.password||e[52]!==H||e[53]!==Se?(M=s.jsx(ne,{id:"password",type:"password",value:t.data.password,onChange:H,placeholder:Se}),e[51]=t.data.password,e[52]=H,e[53]=Se,e[54]=M):M=e[54];let L;e[55]!==t.errors.password?(L=t.errors.password&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.errors.password}),e[55]=t.errors.password,e[56]=L):L=e[56];let z;e[57]!==M||e[58]!==L?(z=s.jsxs("div",{children:[ue,M,L]}),e[57]=M,e[58]=L,e[59]=z):z=e[59];let O;e[60]!==a||e[61]!==t?(O=!a&&s.jsxs("div",{children:[s.jsx(w,{htmlFor:"confirm_password",children:"Confirm Password"}),s.jsx(ne,{id:"confirm_password",type:"password",value:t.data.confirm_password,onChange:r=>t.setData("confirm_password",r.target.value),placeholder:"Confirm password"}),t.errors.confirm_password&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.errors.confirm_password})]}),e[60]=a,e[61]=t,e[62]=O):O=e[62];let U;e[63]!==z||e[64]!==O?(U=s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[z,O]}),e[63]=z,e[64]=O,e[65]=U):U=e[65];let fe;e[66]===Symbol.for("react.memo_cache_sentinel")?(fe=s.jsx(w,{htmlFor:"address",children:"Address (Optional)"}),e[66]=fe):fe=e[66];let $;e[67]!==t?($=r=>t.setData("address",r.target.value),e[67]=t,e[68]=$):$=e[68];let q;e[69]!==t.data.address||e[70]!==$?(q=s.jsx(ne,{id:"address",type:"text",value:t.data.address,onChange:$,placeholder:"Enter address"}),e[69]=t.data.address,e[70]=$,e[71]=q):q=e[71];let W;e[72]!==t.errors.address?(W=t.errors.address&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.errors.address}),e[72]=t.errors.address,e[73]=W):W=e[73];let X;e[74]!==q||e[75]!==W?(X=s.jsxs("div",{children:[fe,q,W]}),e[74]=q,e[75]=W,e[76]=X):X=e[76];let xe;e[77]===Symbol.for("react.memo_cache_sentinel")?(xe=s.jsx(w,{htmlFor:"remarks",children:"Remarks"}),e[77]=xe):xe=e[77];let G;e[78]!==t?(G=r=>t.setData("remarks",r.target.value),e[78]=t,e[79]=G):G=e[79];let J;e[80]!==t.data.remarks||e[81]!==G?(J=s.jsx(Je,{id:"remarks",value:t.data.remarks,onChange:G,placeholder:"Enter remarks",rows:3}),e[80]=t.data.remarks,e[81]=G,e[82]=J):J=e[82];let K;e[83]!==t.errors.remarks?(K=t.errors.remarks&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.errors.remarks}),e[83]=t.errors.remarks,e[84]=K):K=e[84];let Q;e[85]!==J||e[86]!==K?(Q=s.jsxs("div",{children:[xe,J,K]}),e[85]=J,e[86]=K,e[87]=Q):Q=e[87];let V;e[88]!==a||e[89]!==t?(V=a&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jt,{id:"is_active",checked:t.data.is_active,onCheckedChange:r=>t.setData("is_active",r)}),s.jsx(w,{htmlFor:"is_active",children:"Active"})]}),e[88]=a,e[89]=t,e[90]=V):V=e[90];let ge;e[91]===Symbol.for("react.memo_cache_sentinel")?(ge=s.jsx(ie,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e[91]=ge):ge=e[91];const Ne=t.processing?"Saving...":a?"Update Branch":"Create Branch";let Y;e[92]!==t.processing||e[93]!==v||e[94]!==Ne?(Y=s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[ge,s.jsx(ie,{onClick:v,disabled:t.processing,children:Ne})]}),e[92]=t.processing,e[93]=v,e[94]=Ne,e[95]=Y):Y=e[95];let Z;e[96]!==P||e[97]!==I||e[98]!==U||e[99]!==X||e[100]!==Q||e[101]!==V||e[102]!==Y?(Z=s.jsxs("div",{className:"space-y-4",children:[P,I,U,X,Q,V,Y]}),e[96]=P,e[97]=I,e[98]=U,e[99]=X,e[100]=Q,e[101]=V,e[102]=Y,e[103]=Z):Z=e[103];let ee;e[104]!==D||e[105]!==Z?(ee=s.jsxs(Xe,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[D,Z]}),e[104]=D,e[105]=Z,e[106]=ee):ee=e[106];let te;e[107]!==i||e[108]!==ee?(te=s.jsx(Ge,{open:i,onOpenChange:l,children:ee}),e[107]=i,e[108]=ee,e[109]=te):te=e[109];const Ce=!!d;let je;e[110]===Symbol.for("react.memo_cache_sentinel")?(je=()=>h(null),e[110]=je):je=e[110];let ve;e[111]===Symbol.for("react.memo_cache_sentinel")?(ve=s.jsx(et,{children:"Delete Branch"}),e[111]=ve):ve=e[111];const De=d?.store_name;let se;e[112]!==De?(se=s.jsxs(tt,{children:[ve,s.jsxs(st,{children:["Are you sure you want to delete"," ",s.jsx("strong",{children:De}),"? This action cannot be undone."]})]}),e[112]=De,e[113]=se):se=e[113];let be;e[114]===Symbol.for("react.memo_cache_sentinel")?(be=s.jsx(rt,{children:"Cancel"}),e[114]=be):be=e[114];let re;e[115]!==_e?(re=s.jsxs(at,{children:[be,s.jsx(lt,{onClick:_e,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]}),e[115]=_e,e[116]=re):re=e[116];let ae;e[117]!==se||e[118]!==re?(ae=s.jsxs(ot,{children:[se,re]}),e[117]=se,e[118]=re,e[119]=ae):ae=e[119];let le;e[120]!==Ce||e[121]!==ae?(le=s.jsx(it,{open:Ce,onOpenChange:je,children:ae}),e[120]=Ce,e[121]=ae,e[122]=le):le=e[122];let ye;return e[123]!==S||e[124]!==C||e[125]!==te||e[126]!==le?(ye=s.jsxs($e,{children:[ce,S,C,te,le]}),e[123]=S,e[124]=C,e[125]=te,e[126]=le,e[127]=ye):ye=e[127],ye}function vt(){oe.error("Failed to delete branch")}function bt(){oe.error("Failed to create branch")}function yt(){oe.error("Failed to update branch")}export{Xt as default};
